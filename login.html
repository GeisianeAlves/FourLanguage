<!DOCTYPE html>
<html lang="pt-br">

<head>
    <link rel="shortcut icon" href="img/icone.png" type="image/x-icon">

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Four Language | Login</title>
    <link rel="stylesheet" href="css/style1.css">
    <link href="https://fonts.googleapis.com/css2?family=Space+Mono:ital,wght@0,400;0,700;1,400;1,700&display=swap"
        rel="stylesheet" />

</head>

<body>
    <div class="container-login">
        <div class="content first-content">
            <div class="first-column">
                <h2 class="title title-primary">Bem-vindo de volta!</h2>
                <p class="description description-primary">Para se manter conectado conosco</p>
                <p class="description description-primary">Faça login com suas informações pessoais</p>
                <button id="signin" class="btn btn-primary">Entrar</button>
            </div>
            <div class="second-column">
                <h2 class="title title-second">Criar conta</h2>
                <div class="social-media">
                    <ul class="list-social-media">
                        <a class="link-social-media" href="#">
                            <li class="item-social-media">
                                <i class="fab fa-facebook-f"></i><!-- social media -->
                            </li>
                        </a>
                        <a class="link-social-media" href="#">
                            <li class="item-social-media">
                                <i class="fab fa-google-plus-g"></i><!-- social media -->
                            </li>
                        </a>
                        <a class="link-social-media" href="#">
                            <li class="item-social-media">
                                <i class="fab fa-linkedin-in"></i><!-- social media -->
                            </li>
                        </a>
                    </ul>
                </div><!-- social media -->
                <p class="description description-second">ou use seu e-mail para se cadastrar:</p>
                <!-- Formulário de cadastro -->
                <form class="form">
                    <label class="label-input" for="">
                        <i class="far fa-envelope icon-modify"></i>
                        <input id="usernameInput1" type="text" placeholder="Nome de usuário" required>
                    </label>
                    <label class="label-input" for="">
                        <i class="far fa-envelope icon-modify"></i>
                        <input id="emailInput1" type="email" placeholder="Email" required>
                    </label>
                    <label class="label-input" for="">
                        <i class="fas fa-lock icon-modify"></i>
                        <input id="passwordInput1" type="password" placeholder="Password">
                    </label>
                    <button id="btn-cadastro" class="btn btn-second">Cadastre-se</button>
                </form>
            </div><!-- second column -->
        </div><!-- first content -->
        <div class="content second-content">
            <div class="first-column">
                <h2 class="title title-primary">Olá, amigo!</h2>
                <p class="description description-primary">Digite seus dados pessoais</p>
                <p class="description description-primary">E comece a jornada conosco</p>
                <button id="signup" class="btn btn-primary">Cadastre-se</button> <!--esse é o botão de nav-->
            </div>
            <div class="second-column">
                <h2 class="title title-second">Faça Login</h2>
                <div class="social-media">
                    <ul class="list-social-media">
                        <a class="link-social-media" href="#">
                            <li class="item-social-media">
                                <i class="fab fa-facebook-f"></i>
                            </li>
                        </a>
                        <a class="link-social-media" href="#">
                            <li class="item-social-media">
                                <i class="fab fa-google-plus-g"></i>
                            </li>
                        </a>
                        <a class="link-social-media" href="#">
                            <li class="item-social-media">
                                <i class="fab fa-linkedin-in"></i>
                            </li>
                        </a>
                    </ul>
                </div><!-- social media -->
                <p class="description description-second">ou use sua conta de e-mail:</p>
                <form class="form">

                    <label class="label-input" for="">
                        <i class="far fa-envelope icon-modify"></i>
                        <input id="emailInput" type="email" placeholder="Email" required>
                    </label>

                    <label class="label-input" for="">
                        <i class="fas fa-lock icon-modify"></i>
                        <input id="passwordInput" type="password" placeholder="Password">
                    </label>

                    <a id="forgotPasswordLink" class="password" href="#">Esqueceu sua senha?</a>
                    <!--redefinição de senha-->
                    <!--  Modal -->
                    <div id="myModal" class="modal">
                        <div class="modal-content">
                            <span class="close">&times;</span>
                            <p>Por favor, insira seu e-mail:</p>
                            <input id="emailPrompt" type="email" placeholder="Email">
                            <button id="confirmEmail">Confirmar</button>
                        </div>
                    </div>
                    <button id="btn-login" class="btn btn-second">Login</button><!-- botão do login-->
                </form>
            </div><!-- second column -->


        </div><!-- second-content -->
    </div>
    
    <script type="module">
        // Ouvinte de evento para o botão de login
        import { fazerLogin } from './js/auth.js';
        document.getElementById('btn-login').addEventListener('click', function (event) {
            event.preventDefault(); // Impede o comportamento padrão de envio do formulário
            // Obtenha o valor do campo de email
            var email = document.getElementById('emailInput').value;
            // Obtenha o valor do campo de senha (se necessário)
            var senha = document.getElementById('passwordInput').value;

            // Chame a função fazerLogin() passando o email e a senha
            fazerLogin(email, senha);
        });
    </script>
    <script type="module">
        import { resetarSenha } from './js/auth.js';

        document.addEventListener('DOMContentLoaded', function () {
            var modal = document.getElementById("myModal");
            var btn = document.getElementById("forgotPasswordLink");
            var span = document.getElementsByClassName("close")[0];

            // Oculta o modal ao carregar a página
            modal.style.display = "none";

            // Adicione um ouvinte de eventos ao botão de fechar o pop-up
            span.addEventListener('click', function () {
                modal.style.display = "none"; // Fecha o pop-up quando o botão de fechar for clicado
            });

            // Adicione um ouvinte de evento de clique ao link "Esqueceu sua senha?"
            btn.onclick = function (event) {
                event.preventDefault(); // Evite o comportamento padrão de seguir o link

                // Exibe o modal quando o link for clicado
                modal.style.display = "block";
            }

            document.getElementById("confirmEmail").addEventListener('click', function (event) {
                event.preventDefault(); // Evite o comportamento padrão do botão

                var modalEmail = document.getElementById('emailPrompt').value;

                if (modalEmail) {
                    resetarSenha(modalEmail);
                    modal.style.display = "none"; // Fechar o modal após confirmar o email
                }
            });
        });
    </script>
    <script type="module">
        // Importa a função fazerCadastro do arquivo auth.js
        import { fazerCadastro } from './js/auth.js';

        // Script de Cadastro
        document.addEventListener('DOMContentLoaded', function () {
            document.getElementById('btn-cadastro').addEventListener('click', function (event) {
                event.preventDefault(); // Impede o comportamento padrão de envio do formulário

                var username = document.getElementById('usernameInput1').value;
                var email = document.getElementById('emailInput1').value;
                var senha = document.getElementById('passwordInput1').value;

                fazerCadastro(username, email, senha);
            });
        });

    </script>

    <script src="js/switchScreen.js"></script>
    <script src="js/firebaseConfig.js" type="module"></script>
    <script src="js/auth.js" type="module"></script>

</body>

</html>